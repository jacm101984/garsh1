{"ast":null,"code":"import _objectSpread from\"C:/Users/jesus/PycharmProjects/PythonProject1/garage-share/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Clock,ArrowLeft,Shield,Info,CreditCard,CheckCircle,AlertCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DateFormSection=_ref=>{let{formData,handleInputChange,handleSubmit}=_ref;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Fecha de inicio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"startDate\",value:formData.startDate,onChange:handleInputChange,min:new Date().toISOString().split('T')[0],className:\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-orange-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Hora de inicio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:\"startTime\",value:formData.startTime,onChange:handleInputChange,className:\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-orange-500\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Fecha de fin\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"endDate\",value:formData.endDate,onChange:handleInputChange,min:formData.startDate||new Date().toISOString().split('T')[0],className:\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-orange-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Hora de fin\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:\"endTime\",value:formData.endTime,onChange:handleInputChange,className:\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-orange-500\",required:true})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600\\r transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed\",children:\"Continuar al pago\"})]});};const PaymentForm=_ref2=>{let{total,onPaymentComplete,onCancel}=_ref2;const[paymentData,setPaymentData]=useState({cardNumber:'',cardName:'',expiry:'',cvv:''});const[status,setStatus]=useState({loading:false,error:''});const formatCardNumber=value=>{const v=value.replace(/\\s+/g,'').replace(/[^0-9]/gi,'');const matches=v.match(/\\d{4,16}/g);const match=matches&&matches[0]||'';const parts=[];for(let i=0,len=match.length;i<len;i+=4){parts.push(match.substring(i,i+4));}if(parts.length){return parts.join(' ');}else{return value;}};const handlePaymentInputChange=e=>{const{name,value}=e.target;if(name==='cardNumber'){setPaymentData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:formatCardNumber(value)}));}else if(name==='expiry'){const formatted=value.replace(/[^\\d]/g,'').substring(0,4).replace(/(\\d{2})(\\d)/,'$1/$2');setPaymentData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:formatted}));}else if(name==='cvv'){const formatted=value.replace(/[^\\d]/g,'').substring(0,4);setPaymentData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:formatted}));}else{setPaymentData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));}};const handleSubmit=async e=>{e.preventDefault();setStatus({loading:true,error:''});try{// SimulaciÃ³n del proceso de pago\nawait new Promise(resolve=>setTimeout(resolve,1500));onPaymentComplete({last4:paymentData.cardNumber.slice(-4),cardType:getCardType(paymentData.cardNumber)});}catch(error){setStatus({loading:false,error:'Error al procesar el pago. Por favor intenta de nuevo.'});}};const getCardType=number=>{const cleaned=number.replace(/\\s/g,'');if(cleaned.startsWith('4'))return'Visa';if(cleaned.startsWith('5'))return'MasterCard';if(cleaned.startsWith('3'))return'American Express';return'Tarjeta';};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"N\\xFAmero de tarjeta\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cardNumber\",value:paymentData.cardNumber,onChange:handlePaymentInputChange,placeholder:\"1234 5678 9012 3456\",className:\"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500\",maxLength:\"19\",required:true}),/*#__PURE__*/_jsx(CreditCard,{className:\"w-5 h-5 text-gray-400 absolute left-3 top-2.5\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Nombre del titular\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cardName\",value:paymentData.cardName,onChange:handlePaymentInputChange,placeholder:\"Como aparece en la tarjeta\",className:\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Fecha de expiraci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"expiry\",value:paymentData.expiry,onChange:handlePaymentInputChange,placeholder:\"MM/YY\",className:\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500\",maxLength:\"5\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"CVV\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"cvv\",value:paymentData.cvv,onChange:handlePaymentInputChange,placeholder:\"123\",className:\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500\",maxLength:\"4\",required:true})]})]}),status.error&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-red-600 bg-red-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:status.error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,className:\"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\",children:\"Volver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:status.loading,className:\"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600\\r disabled:bg-gray-400 disabled:cursor-not-allowed\",children:status.loading?'Procesando...':\"Pagar $\".concat(total)})]})]});};const PriceSummary=_ref3=>{let{summary,space}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Resumen de costos\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"$\",space.price,\" \\xD7 \",summary.days,\" d\\xEDas\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"$\",summary.basePrice]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Cargo por servicio\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"$\",summary.serviceFee]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-3 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-xl\",children:[\"$\",summary.total]})]})]})]});};const Reservation=_ref4=>{let{spaceId,spaces,reservations,onReserve,onNavigateBack,onNavigateHome,onReservationComplete}=_ref4;const[currentStep,setCurrentStep]=useState('dates');const[formData,setFormData]=useState({startDate:'',endDate:'',startTime:'09:00',endTime:'18:00'});const[summary,setSummary]=useState({days:0,basePrice:0,serviceFee:0,total:0});const[status,setStatus]=useState({success:'',error:'',loading:false});const space=spaces.find(s=>s.id===spaceId);useEffect(()=>{if(formData.startDate&&formData.endDate&&space){const start=new Date(\"\".concat(formData.startDate,\"T\").concat(formData.startTime));const end=new Date(\"\".concat(formData.endDate,\"T\").concat(formData.endTime));const days=Math.ceil((end-start)/(1000*60*60*24));const basePrice=days*space.price;const serviceFee=basePrice*0.1;setSummary({days,basePrice,serviceFee,total:basePrice+serviceFee});}},[formData,space]);const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));setStatus({success:'',error:''});};const isDateConflict=(start,end)=>{const startDateTime=new Date(\"\".concat(start,\"T\").concat(formData.startTime));const endDateTime=new Date(\"\".concat(end,\"T\").concat(formData.endTime));return reservations.some(reservation=>reservation.spaceId===spaceId&&(startDateTime>=new Date(reservation.startDate)&&startDateTime<=new Date(reservation.endDate)||endDateTime>=new Date(reservation.startDate)&&endDateTime<=new Date(reservation.endDate)));};const handleDateSubmit=e=>{e.preventDefault();const{startDate,endDate,startTime,endTime}=formData;if(!startDate||!endDate){setStatus({error:'Por favor selecciona ambas fechas.'});return;}const startDateTime=new Date(\"\".concat(startDate,\"T\").concat(startTime));const endDateTime=new Date(\"\".concat(endDate,\"T\").concat(endTime));if(startDateTime>=endDateTime){setStatus({error:'La fecha/hora de inicio debe ser anterior a la fecha/hora de fin.'});return;}if(isDateConflict(startDate,endDate)){setStatus({error:'Este espacio ya estÃ¡ reservado en las fechas seleccionadas.'});return;}setCurrentStep('payment');};const handlePaymentComplete=async paymentDetails=>{setStatus({loading:true});try{const{startDate,endDate,startTime,endTime}=formData;const startDateTime=new Date(\"\".concat(startDate,\"T\").concat(startTime));const endDateTime=new Date(\"\".concat(endDate,\"T\").concat(endTime));await onReserve(spaceId,startDateTime.toISOString(),endDateTime.toISOString());setStatus({success:'Â¡Reserva realizada exitosamente!',loading:false});setTimeout(()=>{onReservationComplete();},2000);}catch(error){setStatus({error:'Hubo un error al procesar tu reserva. Por favor intenta de nuevo.',loading:false});}};if(!space){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-2\",children:\"Espacio no encontrado\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"El espacio que buscas no est\\xE1 disponible.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onNavigateHome,className:\"bg-orange-500 text-white px-6 py-2 rounded-full hover:bg-orange-600\",children:\"Volver al inicio\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onNavigateBack,className:\"flex items-center text-gray-600 hover:text-gray-800 mb-6\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-5 h-5 mr-2\"}),\"Volver\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800 mb-4\",children:space.name}),/*#__PURE__*/_jsx(\"img\",{src:space.image||\"/api/placeholder/600/400?text=\".concat(encodeURIComponent(space.name)),alt:space.name,className:\"w-full h-48 object-cover rounded-lg mb-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:space.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-700\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-5 h-5 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Horario de acceso: 9:00 AM - 6:00 PM\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-gray-700\",children:[/*#__PURE__*/_jsx(Shield,{className:\"w-5 h-5 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Espacio seguro y monitoreado 24/7\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:currentStep==='dates'?'Detalles de la reserva':'InformaciÃ³n de pago'}),currentStep==='dates'?/*#__PURE__*/_jsx(DateFormSection,{formData:formData,handleInputChange:handleInputChange,handleSubmit:handleDateSubmit}):/*#__PURE__*/_jsx(PaymentForm,{total:summary.total,onPaymentComplete:handlePaymentComplete,onCancel:()=>setCurrentStep('dates')})]}),summary.days>0&&/*#__PURE__*/_jsx(PriceSummary,{summary:summary,space:space}),status.error&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start\",children:[/*#__PURE__*/_jsx(Info,{className:\"w-5 h-5 mr-2 mt-0.5\"}),/*#__PURE__*/_jsx(\"span\",{children:status.error})]}),status.success&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-start\",children:[/*#__PURE__*/_jsx(Info,{className:\"w-5 h-5 mr-2 mt-0.5\"}),/*#__PURE__*/_jsx(\"span\",{children:status.success})]})]})]})]})});};export default Reservation;","map":{"version":3,"names":["React","useState","useEffect","Clock","ArrowLeft","Shield","Info","CreditCard","CheckCircle","AlertCircle","jsx","_jsx","jsxs","_jsxs","DateFormSection","_ref","formData","handleInputChange","handleSubmit","onSubmit","className","children","type","name","value","startDate","onChange","min","Date","toISOString","split","required","startTime","endDate","endTime","PaymentForm","_ref2","total","onPaymentComplete","onCancel","paymentData","setPaymentData","cardNumber","cardName","expiry","cvv","status","setStatus","loading","error","formatCardNumber","v","replace","matches","match","parts","i","len","length","push","substring","join","handlePaymentInputChange","e","target","prev","_objectSpread","formatted","preventDefault","Promise","resolve","setTimeout","last4","slice","cardType","getCardType","number","cleaned","startsWith","placeholder","maxLength","onClick","disabled","concat","PriceSummary","_ref3","summary","space","price","days","basePrice","serviceFee","Reservation","_ref4","spaceId","spaces","reservations","onReserve","onNavigateBack","onNavigateHome","onReservationComplete","currentStep","setCurrentStep","setFormData","setSummary","success","find","s","id","start","end","Math","ceil","isDateConflict","startDateTime","endDateTime","some","reservation","handleDateSubmit","handlePaymentComplete","paymentDetails","src","image","encodeURIComponent","alt","description"],"sources":["C:/Users/jesus/PycharmProjects/PythonProject1/garage-share/src/pages/Reservation.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Clock, ArrowLeft, Shield, Info, CreditCard, CheckCircle, AlertCircle } from 'lucide-react';\r\n\r\nconst DateFormSection = ({ formData, handleInputChange, handleSubmit }) => (\r\n  <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n    <div className=\"grid grid-cols-2 gap-4\">\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          Fecha de inicio\r\n        </label>\r\n        <input\r\n          type=\"date\"\r\n          name=\"startDate\"\r\n          value={formData.startDate}\r\n          onChange={handleInputChange}\r\n          min={new Date().toISOString().split('T')[0]}\r\n          className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-orange-500\"\r\n          required\r\n        />\r\n      </div>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          Hora de inicio\r\n        </label>\r\n        <input\r\n          type=\"time\"\r\n          name=\"startTime\"\r\n          value={formData.startTime}\r\n          onChange={handleInputChange}\r\n          className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-orange-500\"\r\n          required\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"grid grid-cols-2 gap-4\">\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          Fecha de fin\r\n        </label>\r\n        <input\r\n          type=\"date\"\r\n          name=\"endDate\"\r\n          value={formData.endDate}\r\n          onChange={handleInputChange}\r\n          min={formData.startDate || new Date().toISOString().split('T')[0]}\r\n          className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-orange-500\"\r\n          required\r\n        />\r\n      </div>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          Hora de fin\r\n        </label>\r\n        <input\r\n          type=\"time\"\r\n          name=\"endTime\"\r\n          value={formData.endTime}\r\n          onChange={handleInputChange}\r\n          className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-orange-500\"\r\n          required\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <button\r\n      type=\"submit\"\r\n      className=\"w-full bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600\r\n        transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n    >\r\n      Continuar al pago\r\n    </button>\r\n  </form>\r\n);\r\n\r\nconst PaymentForm = ({ total, onPaymentComplete, onCancel }) => {\r\n  const [paymentData, setPaymentData] = useState({\r\n    cardNumber: '',\r\n    cardName: '',\r\n    expiry: '',\r\n    cvv: '',\r\n  });\r\n\r\n  const [status, setStatus] = useState({\r\n    loading: false,\r\n    error: '',\r\n  });\r\n\r\n  const formatCardNumber = (value) => {\r\n    const v = value.replace(/\\s+/g, '').replace(/[^0-9]/gi, '');\r\n    const matches = v.match(/\\d{4,16}/g);\r\n    const match = (matches && matches[0]) || '';\r\n    const parts = [];\r\n\r\n    for (let i = 0, len = match.length; i < len; i += 4) {\r\n      parts.push(match.substring(i, i + 4));\r\n    }\r\n\r\n    if (parts.length) {\r\n      return parts.join(' ');\r\n    } else {\r\n      return value;\r\n    }\r\n  };\r\n\r\n  const handlePaymentInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    if (name === 'cardNumber') {\r\n      setPaymentData(prev => ({\r\n        ...prev,\r\n        [name]: formatCardNumber(value)\r\n      }));\r\n    } else if (name === 'expiry') {\r\n      const formatted = value\r\n        .replace(/[^\\d]/g, '')\r\n        .substring(0, 4)\r\n        .replace(/(\\d{2})(\\d)/, '$1/$2');\r\n      setPaymentData(prev => ({\r\n        ...prev,\r\n        [name]: formatted\r\n      }));\r\n    } else if (name === 'cvv') {\r\n      const formatted = value.replace(/[^\\d]/g, '').substring(0, 4);\r\n      setPaymentData(prev => ({\r\n        ...prev,\r\n        [name]: formatted\r\n      }));\r\n    } else {\r\n      setPaymentData(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setStatus({ loading: true, error: '' });\r\n\r\n    try {\r\n      // SimulaciÃ³n del proceso de pago\r\n      await new Promise(resolve => setTimeout(resolve, 1500));\r\n      onPaymentComplete({\r\n        last4: paymentData.cardNumber.slice(-4),\r\n        cardType: getCardType(paymentData.cardNumber)\r\n      });\r\n    } catch (error) {\r\n      setStatus({\r\n        loading: false,\r\n        error: 'Error al procesar el pago. Por favor intenta de nuevo.'\r\n      });\r\n    }\r\n  };\r\n\r\n  const getCardType = (number) => {\r\n    const cleaned = number.replace(/\\s/g, '');\r\n    if (cleaned.startsWith('4')) return 'Visa';\r\n    if (cleaned.startsWith('5')) return 'MasterCard';\r\n    if (cleaned.startsWith('3')) return 'American Express';\r\n    return 'Tarjeta';\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          NÃºmero de tarjeta\r\n        </label>\r\n        <div className=\"relative\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"cardNumber\"\r\n            value={paymentData.cardNumber}\r\n            onChange={handlePaymentInputChange}\r\n            placeholder=\"1234 5678 9012 3456\"\r\n            className=\"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500\"\r\n            maxLength=\"19\"\r\n            required\r\n          />\r\n          <CreditCard className=\"w-5 h-5 text-gray-400 absolute left-3 top-2.5\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n          Nombre del titular\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"cardName\"\r\n          value={paymentData.cardName}\r\n          onChange={handlePaymentInputChange}\r\n          placeholder=\"Como aparece en la tarjeta\"\r\n          className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Fecha de expiraciÃ³n\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"expiry\"\r\n            value={paymentData.expiry}\r\n            onChange={handlePaymentInputChange}\r\n            placeholder=\"MM/YY\"\r\n            className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500\"\r\n            maxLength=\"5\"\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            CVV\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"cvv\"\r\n            value={paymentData.cvv}\r\n            onChange={handlePaymentInputChange}\r\n            placeholder=\"123\"\r\n            className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500\"\r\n            maxLength=\"4\"\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {status.error && (\r\n        <div className=\"flex items-center gap-2 text-red-600 bg-red-50 p-3 rounded-lg\">\r\n          <AlertCircle className=\"w-5 h-5\" />\r\n          <span className=\"text-sm\">{status.error}</span>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex gap-4\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onCancel}\r\n          className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\r\n        >\r\n          Volver\r\n        </button>\r\n        <button\r\n          type=\"submit\"\r\n          disabled={status.loading}\r\n          className=\"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600\r\n            disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n        >\r\n          {status.loading ? 'Procesando...' : `Pagar $${total}`}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst PriceSummary = ({ summary, space }) => (\r\n  <div className=\"bg-white rounded-xl shadow-sm p-6\">\r\n    <h2 className=\"text-xl font-semibold mb-4\">Resumen de costos</h2>\r\n    <div className=\"space-y-3\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <span className=\"text-gray-600\">\r\n          ${space.price} Ã {summary.days} dÃ­as\r\n        </span>\r\n        <span className=\"font-medium\">${summary.basePrice}</span>\r\n      </div>\r\n      <div className=\"flex justify-between items-center\">\r\n        <span className=\"text-gray-600\">Cargo por servicio</span>\r\n        <span className=\"font-medium\">${summary.serviceFee}</span>\r\n      </div>\r\n      <div className=\"border-t pt-3 flex justify-between items-center\">\r\n        <span className=\"font-semibold\">Total</span>\r\n        <span className=\"font-bold text-xl\">${summary.total}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst Reservation = ({\r\n  spaceId,\r\n  spaces,\r\n  reservations,\r\n  onReserve,\r\n  onNavigateBack,\r\n  onNavigateHome,\r\n  onReservationComplete\r\n}) => {\r\n  const [currentStep, setCurrentStep] = useState('dates');\r\n  const [formData, setFormData] = useState({\r\n    startDate: '',\r\n    endDate: '',\r\n    startTime: '09:00',\r\n    endTime: '18:00'\r\n  });\r\n\r\n  const [summary, setSummary] = useState({\r\n    days: 0,\r\n    basePrice: 0,\r\n    serviceFee: 0,\r\n    total: 0\r\n  });\r\n\r\n  const [status, setStatus] = useState({\r\n    success: '',\r\n    error: '',\r\n    loading: false\r\n  });\r\n\r\n  const space = spaces.find((s) => s.id === spaceId);\r\n\r\n  useEffect(() => {\r\n    if (formData.startDate && formData.endDate && space) {\r\n      const start = new Date(`${formData.startDate}T${formData.startTime}`);\r\n      const end = new Date(`${formData.endDate}T${formData.endTime}`);\r\n      const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24));\r\n\r\n      const basePrice = days * space.price;\r\n      const serviceFee = basePrice * 0.1;\r\n\r\n      setSummary({\r\n        days,\r\n        basePrice,\r\n        serviceFee,\r\n        total: basePrice + serviceFee\r\n      });\r\n    }\r\n  }, [formData, space]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    setStatus({ success: '', error: '' });\r\n  };\r\n\r\n  const isDateConflict = (start, end) => {\r\n    const startDateTime = new Date(`${start}T${formData.startTime}`);\r\n    const endDateTime = new Date(`${end}T${formData.endTime}`);\r\n\r\n    return reservations.some(reservation =>\r\n      reservation.spaceId === spaceId &&\r\n      ((startDateTime >= new Date(reservation.startDate) &&\r\n        startDateTime <= new Date(reservation.endDate)) ||\r\n       (endDateTime >= new Date(reservation.startDate) &&\r\n        endDateTime <= new Date(reservation.endDate)))\r\n    );\r\n  };\r\n\r\n  const handleDateSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { startDate, endDate, startTime, endTime } = formData;\r\n\r\n    if (!startDate || !endDate) {\r\n      setStatus({ error: 'Por favor selecciona ambas fechas.' });\r\n      return;\r\n    }\r\n\r\n    const startDateTime = new Date(`${startDate}T${startTime}`);\r\n    const endDateTime = new Date(`${endDate}T${endTime}`);\r\n\r\n    if (startDateTime >= endDateTime) {\r\n      setStatus({ error: 'La fecha/hora de inicio debe ser anterior a la fecha/hora de fin.' });\r\n      return;\r\n    }\r\n\r\n    if (isDateConflict(startDate, endDate)) {\r\n      setStatus({ error: 'Este espacio ya estÃ¡ reservado en las fechas seleccionadas.' });\r\n      return;\r\n    }\r\n\r\n    setCurrentStep('payment');\r\n  };\r\n\r\n  const handlePaymentComplete = async (paymentDetails) => {\r\n    setStatus({ loading: true });\r\n\r\n    try {\r\n      const { startDate, endDate, startTime, endTime } = formData;\r\n      const startDateTime = new Date(`${startDate}T${startTime}`);\r\n      const endDateTime = new Date(`${endDate}T${endTime}`);\r\n\r\n      await onReserve(spaceId, startDateTime.toISOString(), endDateTime.toISOString());\r\n\r\n      setStatus({\r\n        success: 'Â¡Reserva realizada exitosamente!',\r\n        loading: false\r\n      });\r\n\r\n      setTimeout(() => {\r\n        onReservationComplete();\r\n      }, 2000);\r\n    } catch (error) {\r\n      setStatus({\r\n        error: 'Hubo un error al procesar tu reserva. Por favor intenta de nuevo.',\r\n        loading: false\r\n      });\r\n    }\r\n  };\r\n\r\n  if (!space) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Espacio no encontrado</h2>\r\n          <p className=\"text-gray-600 mb-4\">El espacio que buscas no estÃ¡ disponible.</p>\r\n          <button\r\n            onClick={onNavigateHome}\r\n            className=\"bg-orange-500 text-white px-6 py-2 rounded-full hover:bg-orange-600\"\r\n          >\r\n            Volver al inicio\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-12\">\r\n      <div className=\"max-w-6xl mx-auto px-4\">\r\n      <button\r\n          onClick={onNavigateBack}\r\n          className=\"flex items-center text-gray-600 hover:text-gray-800 mb-6\"\r\n        >\r\n          <ArrowLeft className=\"w-5 h-5 mr-2\" />\r\n          Volver\r\n        </button>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n          {/* Left Column - Space Details */}\r\n          <div>\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\r\n              <h1 className=\"text-2xl font-bold text-gray-800 mb-4\">\r\n                {space.name}\r\n              </h1>\r\n\r\n              <img\r\n                src={space.image || `/api/placeholder/600/400?text=${encodeURIComponent(space.name)}`}\r\n                alt={space.name}\r\n                className=\"w-full h-48 object-cover rounded-lg mb-4\"\r\n              />\r\n\r\n              <div className=\"space-y-4\">\r\n                <p className=\"text-gray-600\">{space.description}</p>\r\n\r\n                <div className=\"flex items-center text-gray-700\">\r\n                  <Clock className=\"w-5 h-5 mr-2\" />\r\n                  <span>Horario de acceso: 9:00 AM - 6:00 PM</span>\r\n                </div>\r\n\r\n                <div className=\"flex items-center text-gray-700\">\r\n                  <Shield className=\"w-5 h-5 mr-2\" />\r\n                  <span>Espacio seguro y monitoreado 24/7</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right Column - Forms and Summary */}\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\r\n              <h2 className=\"text-xl font-semibold mb-4\">\r\n                {currentStep === 'dates' ? 'Detalles de la reserva' : 'InformaciÃ³n de pago'}\r\n              </h2>\r\n\r\n              {currentStep === 'dates' ? (\r\n                <DateFormSection\r\n                  formData={formData}\r\n                  handleInputChange={handleInputChange}\r\n                  handleSubmit={handleDateSubmit}\r\n                />\r\n              ) : (\r\n                <PaymentForm\r\n                  total={summary.total}\r\n                  onPaymentComplete={handlePaymentComplete}\r\n                  onCancel={() => setCurrentStep('dates')}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            {summary.days > 0 && <PriceSummary summary={summary} space={space} />}\r\n\r\n            {/* Status Messages */}\r\n            {status.error && (\r\n              <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start\">\r\n                <Info className=\"w-5 h-5 mr-2 mt-0.5\" />\r\n                <span>{status.error}</span>\r\n              </div>\r\n            )}\r\n\r\n            {status.success && (\r\n              <div className=\"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-start\">\r\n                <Info className=\"w-5 h-5 mr-2 mt-0.5\" />\r\n                <span>{status.success}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reservation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}