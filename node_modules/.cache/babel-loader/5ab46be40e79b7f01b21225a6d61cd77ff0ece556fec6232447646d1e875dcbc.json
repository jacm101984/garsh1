{"ast":null,"code":"import React,{useState}from'react';import{Heart}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SpaceCard=_ref=>{let{space,onFavorite,isFavorite,onReserve,reservations}=_ref;const[hovered,setHovered]=useState(false);const[isReserving,setIsReserving]=useState(false);const[reservationStartDate,setReservationStartDate]=useState('');const[reservationEndDate,setReservationEndDate]=useState('');const handleFavorite=()=>{onFavorite(space.id);};const isDateConflict=(startDate,endDate)=>{return reservations.some(reservation=>{const existingStart=new Date(reservation.startDate);const existingEnd=new Date(reservation.endDate);const newStart=new Date(startDate);const newEnd=new Date(endDate);return newStart<=existingEnd&&newEnd>=existingStart;});};const handleReserve=()=>{if(reservationStartDate&&reservationEndDate){if(new Date(reservationStartDate)>new Date(reservationEndDate)){alert('La fecha de inicio no puede ser posterior a la fecha de fin.');return;}if(isDateConflict(reservationStartDate,reservationEndDate)){alert('El espacio ya está reservado durante este período.');return;}onReserve(space.id,reservationStartDate,reservationEndDate);setIsReserving(false);alert(\"Reserva realizada desde el \".concat(reservationStartDate,\" hasta el \").concat(reservationEndDate));}else{alert('Por favor, seleccione las fechas de inicio y fin para la reserva.');}};// Default images for spaces\nconst defaultImages=['https://via.placeholder.com/300x200?text=Garage+1','https://via.placeholder.com/300x200?text=Garage+2','https://via.placeholder.com/300x200?text=Garage+3','https://via.placeholder.com/300x200?text=Garage+4','https://via.placeholder.com/300x200?text=Garage+5'];// Assign an image to the space\nconst assignedImage=space.image&&space.image.startsWith('http')?space.image:defaultImages[space.id%defaultImages.length];return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-200 bg-white\",onMouseEnter:()=>setHovered(true),onMouseLeave:()=>setHovered(false),children:[/*#__PURE__*/_jsx(\"img\",{src:assignedImage,alt:space.name||'Espacio',className:\"w-full h-48 object-cover\",onError:e=>{e.target.onerror=null;// Avoid infinite loop\ne.target.src='https://via.placeholder.com/300x200?text=Imagen+No+Disponible';}}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-800 mb-2\",children:space.name||'Espacio sin nombre'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4\",children:space.description||'Descripción no disponible.'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-blue-500 font-bold\",children:[\"$\",space.price||'0.00',\"/mes\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFavorite,className:\"text-gray-500 hover:text-red-500\",children:isFavorite?/*#__PURE__*/_jsx(Heart,{className:\"w-6 h-6 fill-current text-red-500\"}):/*#__PURE__*/_jsx(Heart,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"block text-yellow-500 font-semibold\",children:[\"Calificaci\\xF3n: \",space.rating||'N/A']})}),isReserving?/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Fecha de inicio:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:reservationStartDate,onChange:e=>setReservationStartDate(e.target.value),className:\"w-full mb-2 p-2 border rounded\"}),/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Fecha de fin:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:reservationEndDate,onChange:e=>setReservationEndDate(e.target.value),className:\"w-full mb-2 p-2 border rounded\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleReserve,className:\"w-full bg-green-500 text-white py-2 px-4 rounded hover:bg-green-600 transition-colors\",children:\"Confirmar Reserva\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsReserving(false),className:\"w-full mt-2 bg-gray-500 text-white py-2 px-4 rounded hover:bg-gray-600 transition-colors\",children:\"Cancelar\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsReserving(true),className:\"w-full mt-2 bg-orange-500 text-white py-2 px-4 rounded hover:bg-orange-600 transition-colors\",children:\"Reservar\"})]})]});};export default SpaceCard;","map":{"version":3,"names":["React","useState","Heart","jsx","_jsx","jsxs","_jsxs","SpaceCard","_ref","space","onFavorite","isFavorite","onReserve","reservations","hovered","setHovered","isReserving","setIsReserving","reservationStartDate","setReservationStartDate","reservationEndDate","setReservationEndDate","handleFavorite","id","isDateConflict","startDate","endDate","some","reservation","existingStart","Date","existingEnd","newStart","newEnd","handleReserve","alert","concat","defaultImages","assignedImage","image","startsWith","length","className","onMouseEnter","onMouseLeave","children","src","alt","name","onError","e","target","onerror","description","price","onClick","rating","type","value","onChange"],"sources":["C:/Users/jesus/PycharmProjects/PythonProject1/garage-share/src/components/SpaceCard.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Heart } from 'lucide-react';\r\n\r\nconst SpaceCard = ({ space, onFavorite, isFavorite, onReserve, reservations }) => {\r\n  const [hovered, setHovered] = useState(false);\r\n  const [isReserving, setIsReserving] = useState(false);\r\n  const [reservationStartDate, setReservationStartDate] = useState('');\r\n  const [reservationEndDate, setReservationEndDate] = useState('');\r\n\r\n  const handleFavorite = () => {\r\n    onFavorite(space.id);\r\n  };\r\n\r\n  const isDateConflict = (startDate, endDate) => {\r\n    return reservations.some(reservation => {\r\n      const existingStart = new Date(reservation.startDate);\r\n      const existingEnd = new Date(reservation.endDate);\r\n      const newStart = new Date(startDate);\r\n      const newEnd = new Date(endDate);\r\n      return newStart <= existingEnd && newEnd >= existingStart;\r\n    });\r\n  };\r\n\r\n  const handleReserve = () => {\r\n    if (reservationStartDate && reservationEndDate) {\r\n      if (new Date(reservationStartDate) > new Date(reservationEndDate)) {\r\n        alert('La fecha de inicio no puede ser posterior a la fecha de fin.');\r\n        return;\r\n      }\r\n\r\n      if (isDateConflict(reservationStartDate, reservationEndDate)) {\r\n        alert('El espacio ya está reservado durante este período.');\r\n        return;\r\n      }\r\n\r\n      onReserve(space.id, reservationStartDate, reservationEndDate);\r\n      setIsReserving(false);\r\n      alert(`Reserva realizada desde el ${reservationStartDate} hasta el ${reservationEndDate}`);\r\n    } else {\r\n      alert('Por favor, seleccione las fechas de inicio y fin para la reserva.');\r\n    }\r\n  };\r\n\r\n  // Default images for spaces\r\n  const defaultImages = [\r\n    'https://via.placeholder.com/300x200?text=Garage+1',\r\n    'https://via.placeholder.com/300x200?text=Garage+2',\r\n    'https://via.placeholder.com/300x200?text=Garage+3',\r\n    'https://via.placeholder.com/300x200?text=Garage+4',\r\n    'https://via.placeholder.com/300x200?text=Garage+5'\r\n  ];\r\n\r\n  // Assign an image to the space\r\n  const assignedImage = space.image && space.image.startsWith('http')\r\n    ? space.image\r\n    : defaultImages[space.id % defaultImages.length];\r\n\r\n  return (\r\n    <div\r\n      className=\"border rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-200 bg-white\"\r\n      onMouseEnter={() => setHovered(true)}\r\n      onMouseLeave={() => setHovered(false)}\r\n    >\r\n      <img\r\n        src={assignedImage}\r\n        alt={space.name || 'Espacio'}\r\n        className=\"w-full h-48 object-cover\"\r\n        onError={(e) => {\r\n          e.target.onerror = null; // Avoid infinite loop\r\n          e.target.src = 'https://via.placeholder.com/300x200?text=Imagen+No+Disponible';\r\n        }}\r\n      />\r\n\r\n      <div className=\"p-4\">\r\n        <h3 className=\"text-lg font-bold text-gray-800 mb-2\">{space.name || 'Espacio sin nombre'}</h3>\r\n        <p className=\"text-gray-600 text-sm mb-4\">{space.description || 'Descripción no disponible.'}</p>\r\n\r\n        <div className=\"flex items-center justify-between\">\r\n          <span className=\"text-blue-500 font-bold\">${space.price || '0.00'}/mes</span>\r\n          <button onClick={handleFavorite} className=\"text-gray-500 hover:text-red-500\">\r\n            {isFavorite ? (\r\n              <Heart className=\"w-6 h-6 fill-current text-red-500\" />\r\n            ) : (\r\n              <Heart className=\"w-6 h-6\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"mt-4\">\r\n          <span className=\"block text-yellow-500 font-semibold\">Calificación: {space.rating || 'N/A'}</span>\r\n        </div>\r\n\r\n        {isReserving ? (\r\n          <div className=\"mt-2\">\r\n            <label className=\"block text-sm font-medium text-gray-700\">Fecha de inicio:</label>\r\n            <input\r\n              type=\"date\"\r\n              value={reservationStartDate}\r\n              onChange={(e) => setReservationStartDate(e.target.value)}\r\n              className=\"w-full mb-2 p-2 border rounded\"\r\n            />\r\n\r\n            <label className=\"block text-sm font-medium text-gray-700\">Fecha de fin:</label>\r\n            <input\r\n              type=\"date\"\r\n              value={reservationEndDate}\r\n              onChange={(e) => setReservationEndDate(e.target.value)}\r\n              className=\"w-full mb-2 p-2 border rounded\"\r\n            />\r\n\r\n            <button\r\n              onClick={handleReserve}\r\n              className=\"w-full bg-green-500 text-white py-2 px-4 rounded hover:bg-green-600 transition-colors\"\r\n            >\r\n              Confirmar Reserva\r\n            </button>\r\n            <button\r\n              onClick={() => setIsReserving(false)}\r\n              className=\"w-full mt-2 bg-gray-500 text-white py-2 px-4 rounded hover:bg-gray-600 transition-colors\"\r\n            >\r\n              Cancelar\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <button\r\n            onClick={() => setIsReserving(true)}\r\n            className=\"w-full mt-2 bg-orange-500 text-white py-2 px-4 rounded hover:bg-orange-600 transition-colors\"\r\n          >\r\n            Reservar\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpaceCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}