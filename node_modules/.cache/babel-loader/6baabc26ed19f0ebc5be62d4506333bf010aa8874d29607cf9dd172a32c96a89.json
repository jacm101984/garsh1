{"ast":null,"code":"import React,{useState,useRef}from'react';import{Upload,X,Image as ImageIcon}from'lucide-react';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const ImageUpload=_ref=>{let{onImagesChange}=_ref;const[images,setImages]=useState([]);const[dragActive,setDragActive]=useState(false);const inputRef=useRef(null);const handleFiles=files=>{const validFiles=Array.from(files).filter(file=>{const isValid=file.type.startsWith('image/');const isUnder10MB=file.size<=10*1024*1024;// 10MB limit\nreturn isValid&&isUnder10MB;});const newImages=validFiles.map(file=>({file,preview:URL.createObjectURL(file),name:file.name}));setImages(prev=>{const updated=[...prev,...newImages];// Limit to 5 images\nconst limited=updated.slice(0,5);onImagesChange(limited.map(img=>img.file));return limited;});};const handleDrag=e=>{e.preventDefault();e.stopPropagation();if(e.type==='dragenter'||e.type==='dragover'){setDragActive(true);}else if(e.type==='dragleave'){setDragActive(false);}};const handleDrop=e=>{e.preventDefault();e.stopPropagation();setDragActive(false);if(e.dataTransfer.files&&e.dataTransfer.files[0]){handleFiles(e.dataTransfer.files);}};const handleChange=e=>{e.preventDefault();if(e.target.files&&e.target.files[0]){handleFiles(e.target.files);}};const removeImage=index=>{setImages(prev=>{const newImages=prev.filter((_,i)=>i!==index);onImagesChange(newImages.map(img=>img.file));return newImages;});};const openFileDialog=()=>{inputRef.current.click();};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-dashed rounded-lg p-6 transition-colors\\n          \".concat(dragActive?'border-orange-500 bg-orange-50':'border-gray-300',\"\\n          \").concat(images.length===0?'cursor-pointer':''),onClick:()=>images.length===0&&openFileDialog(),onDragEnter:handleDrag,onDragLeave:handleDrag,onDragOver:handleDrag,onDrop:handleDrop,children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"file\",multiple:true,accept:\"image/*\",onChange:handleChange,className:\"hidden\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Upload,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:images.length===0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:openFileDialog,className:\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:\"Seleccionar fotos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-xs text-gray-500\",children:\"Arrastra y suelta tus im\\xE1genes aqu\\xED o haz clic para seleccionarlas\"})]}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:openFileDialog,className:\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:\"Agregar m\\xE1s fotos\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-gray-500\",children:\"PNG, JPG, GIF hasta 10MB (m\\xE1ximo 5 im\\xE1genes)\"})]})]}),images.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\",children:images.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative group aspect-w-16 aspect-h-9 rounded-lg overflow-hidden border border-gray-200\",children:[/*#__PURE__*/_jsx(\"img\",{src:image.preview,alt:\"Preview \".concat(index+1),className:\"w-full h-full object-cover\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeImage(index),className:\"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\",children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"})})]},index))})]});};export default ImageUpload;","map":{"version":3,"names":["React","useState","useRef","Upload","X","Image","ImageIcon","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ImageUpload","_ref","onImagesChange","images","setImages","dragActive","setDragActive","inputRef","handleFiles","files","validFiles","Array","from","filter","file","isValid","type","startsWith","isUnder10MB","size","newImages","map","preview","URL","createObjectURL","name","prev","updated","limited","slice","img","handleDrag","e","preventDefault","stopPropagation","handleDrop","dataTransfer","handleChange","target","removeImage","index","_","i","openFileDialog","current","click","className","children","concat","length","onClick","onDragEnter","onDragLeave","onDragOver","onDrop","ref","multiple","accept","onChange","image","src","alt"],"sources":["C:/Users/jesus/PycharmProjects/PythonProject1/garage-share/src/components/ImageUpload.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport { Upload, X, Image as ImageIcon } from 'lucide-react';\r\n\r\nconst ImageUpload = ({ onImagesChange }) => {\r\n  const [images, setImages] = useState([]);\r\n  const [dragActive, setDragActive] = useState(false);\r\n  const inputRef = useRef(null);\r\n\r\n  const handleFiles = (files) => {\r\n    const validFiles = Array.from(files).filter(file => {\r\n      const isValid = file.type.startsWith('image/');\r\n      const isUnder10MB = file.size <= 10 * 1024 * 1024; // 10MB limit\r\n      return isValid && isUnder10MB;\r\n    });\r\n\r\n    const newImages = validFiles.map(file => ({\r\n      file,\r\n      preview: URL.createObjectURL(file),\r\n      name: file.name\r\n    }));\r\n\r\n    setImages(prev => {\r\n      const updated = [...prev, ...newImages];\r\n      // Limit to 5 images\r\n      const limited = updated.slice(0, 5);\r\n      onImagesChange(limited.map(img => img.file));\r\n      return limited;\r\n    });\r\n  };\r\n\r\n  const handleDrag = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (e.type === 'dragenter' || e.type === 'dragover') {\r\n      setDragActive(true);\r\n    } else if (e.type === 'dragleave') {\r\n      setDragActive(false);\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setDragActive(false);\r\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\r\n      handleFiles(e.dataTransfer.files);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    e.preventDefault();\r\n    if (e.target.files && e.target.files[0]) {\r\n      handleFiles(e.target.files);\r\n    }\r\n  };\r\n\r\n  const removeImage = (index) => {\r\n    setImages(prev => {\r\n      const newImages = prev.filter((_, i) => i !== index);\r\n      onImagesChange(newImages.map(img => img.file));\r\n      return newImages;\r\n    });\r\n  };\r\n\r\n  const openFileDialog = () => {\r\n    inputRef.current.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div\r\n        className={`border-2 border-dashed rounded-lg p-6 transition-colors\r\n          ${dragActive ? 'border-orange-500 bg-orange-50' : 'border-gray-300'}\r\n          ${images.length === 0 ? 'cursor-pointer' : ''}`}\r\n        onClick={() => images.length === 0 && openFileDialog()}\r\n        onDragEnter={handleDrag}\r\n        onDragLeave={handleDrag}\r\n        onDragOver={handleDrag}\r\n        onDrop={handleDrop}\r\n      >\r\n        <input\r\n          ref={inputRef}\r\n          type=\"file\"\r\n          multiple\r\n          accept=\"image/*\"\r\n          onChange={handleChange}\r\n          className=\"hidden\"\r\n        />\r\n\r\n        <div className=\"text-center\">\r\n          <Upload className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n          <div className=\"mt-4\">\r\n            {images.length === 0 ? (\r\n              <>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={openFileDialog}\r\n                  className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n                >\r\n                  Seleccionar fotos\r\n                </button>\r\n                <p className=\"mt-2 text-xs text-gray-500\">\r\n                  Arrastra y suelta tus imágenes aquí o haz clic para seleccionarlas\r\n                </p>\r\n              </>\r\n            ) : (\r\n              <button\r\n                type=\"button\"\r\n                onClick={openFileDialog}\r\n                className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n              >\r\n                Agregar más fotos\r\n              </button>\r\n            )}\r\n          </div>\r\n          <p className=\"mt-1 text-xs text-gray-500\">\r\n            PNG, JPG, GIF hasta 10MB (máximo 5 imágenes)\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Image Preview Grid */}\r\n      {images.length > 0 && (\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\">\r\n          {images.map((image, index) => (\r\n            <div\r\n              key={index}\r\n              className=\"relative group aspect-w-16 aspect-h-9 rounded-lg overflow-hidden border border-gray-200\"\r\n            >\r\n              <img\r\n                src={image.preview}\r\n                alt={`Preview ${index + 1}`}\r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => removeImage(index)}\r\n                className=\"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\r\n              >\r\n                <X className=\"h-4 w-4\" />\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}